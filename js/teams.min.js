/*!
 * Start Bootstrap - SB Admin v5.0.1 (https://startbootstrap.com/template-overviews/sb-admin)
 * Copyright 2013-2018 Start Bootstrap
 * Licensed under MIT (https://github.com/BlackrockDigital/startbootstrap-sb-admin/blob/master/LICENSE)
 */

!function(g){"use strict";var u={label:"Wins",lineTension:.3,backgroundColor:"rgba(2,117,216,0.2)",borderColor:"rgba(2,117,216,1)",pointRadius:5,pointBackgroundColor:"rgba(2,117,216,1)",pointBorderColor:"rgba(255,255,255,0.8)",pointHoverRadius:5,pointHoverBackgroundColor:"rgba(2,117,216,1)",pointHitRadius:50,pointBorderWidth:1,data:[12,8,10,12,10,13,13,13,9]},e=document.getElementById("myAreaChart"),h=new Chart(e,{type:"line",data:{labels:["2009","2010","2011","2012","2013","2014","2015","2016","2017"],datasets:[u]},options:{scales:{xAxes:[{time:{unit:"date"},gridLines:{display:!1},ticks:{}}],yAxes:[{gridLines:{color:"rgba(0, 0, 0, .125)"},ticks:{min:0,max:17,stepSize:1}}]},legend:{display:!1}}}),a={min:0,max:100,donut:!0,gaugeWidthScale:.6,counter:!0,hideInnerShadow:!0},y=new JustGage({id:"gg2",title:"Win Rate",label:"percent",defaults:a}),m=new JustGage({id:"playoffsC",title:"Win Rate",label:"percent",defaults:a}),o=[],t=function(e){var a;console.log("data to load",e),g("#founded").text(e.founded),g("#seasons").text(e.seasons),g("#name-head-coach").text(e.headcoach),g("#earnings").text(e.earnings),g("#nickname").text(e.nickname),g("#experience").text(e.experience),g("#teamlogo").attr("src",e.logo),g("#head-coach-img").attr("src",e.HCimage),g("#over-wins").text(e.overall.win),g("#over-loss").text(e.overall.loss),g("#over-tie").text(e.overall.tie),g("#offePts").text(e.overall.offensePts),g("#defPts").text(e.overall.defPts),g("#OverregSeasonChamp").text(e.overall.regSeasonChamp),g("#playOWin").text(e.playoff.win),g("#playOLoss").text(e.playoff.loss),g("#playOTie").text(e.playoff.tie),g("#championships").text(e.playoff.championships),g("#regSeasonChamp").text(e.playoff.regSeasonChamp),g("#appearances").text(e.playoff.appearances),(a=h).data.labels=[],a.data.datasets=[],a.update();for(var t=[],o=[],n=0;n<e.yearly.length;n++)t.push(e.yearly[n].year),o.push(parseInt(e.yearly[n].wins));u.data=o;var r,l,s,i=[];i.push(u),l=t,s=i,(r=h).data.labels=l,r.data.datasets=s,r.update();var p=parseInt(e.overall.win)+parseInt(e.overall.loss)+parseInt(e.overall.tie),d=100*parseInt(e.overall.win)/p;console.log(Math.round(d)),y.refresh(d);var c=parseInt(e.playoff.win)+parseInt(e.playoff.loss)+parseInt(e.playoff.tie),f=100*parseInt(e.playoff.win)/c;m.refresh(f)};g("#teamSelector").change(function(e){var a=function(e){for(var a=0,t=o.length;a<t;a++)if(o[a].name===e)return o[a];return null}(e.target.value);t(a)}),g(document).ready(function(){console.log("ready!"),console.log("fetching!"),g.getJSON("data/data.json",function(e){o=e.teams,g.each(o,function(e,a){g("#teamSelector").append(g("<option>",{value:a.name,text:a.name}))}),t(o[0])}).fail(function(e,a,t){console.log("error",a,t)})})}(jQuery);