/*!
 * Start Bootstrap - SB Admin v5.0.1 (https://startbootstrap.com/template-overviews/sb-admin)
 * Copyright 2013-2018 Start Bootstrap
 * Licensed under MIT (https://github.com/BlackrockDigital/startbootstrap-sb-admin/blob/master/LICENSE)
 */

!function(c){"use strict";var g={label:"Wins",lineTension:.3,backgroundColor:"rgba(2,117,216,0.2)",borderColor:"rgba(2,117,216,1)",pointRadius:5,pointBackgroundColor:"rgba(2,117,216,1)",pointBorderColor:"rgba(255,255,255,0.8)",pointHoverRadius:5,pointHoverBackgroundColor:"rgba(2,117,216,1)",pointHitRadius:50,pointBorderWidth:1,data:[12,8,10,12,10,13,13,13,9]},e=document.getElementById("myAreaChart"),y=new Chart(e,{type:"line",data:{labels:["2009","2010","2011","2012","2013","2014","2015","2016","2017"],datasets:[g]},options:{scales:{xAxes:[{time:{unit:"date"},gridLines:{display:!1},ticks:{}}],yAxes:[{gridLines:{color:"rgba(0, 0, 0, .125)"},ticks:{min:0,max:17,stepSize:1}}]},legend:{display:!1}}}),a={min:0,max:100,donut:!0,gaugeWidthScale:.6,counter:!0,hideInnerShadow:!0},v=new JustGage({id:"gg2",title:"Win Rate",label:"percent",defaults:a}),h=new JustGage({id:"playoffsC",title:"Win Rate",label:"percent",defaults:a}),o=[],t=function(e){var a;console.log("data to load",e),c("#founded").text(e.founded),c("#stadium").text(e.stadium),c("#teamlogo").attr("src",e.logo),c("#over-wins").text(e.overall.win),c("#over-loss").text(e.overall.loss),c("#over-tie").text(e.overall.tie),c("#offePts").text(e.overall.offensePts),c("#defPts").text(e.overall.defPts),c("#OverregSeasonChamp").text(e.overall.regSeasonChamp),c("#playOWin").text(e.playoff.win),c("#playOLoss").text(e.playoff.loss),c("#playOTie").text(e.playoff.tie),c("#championships").text(e.playoff.championships),c("#regSeasonChamp").text(e.playoff.regSeasonChamp),c("#appearances").text(e.playoff.appearances),(a=y).data.labels=[],a.data.datasets=[],a.update();for(var t=[],o=[],n=0;n<e.yearly.length;n++)t.push(e.yearly[n].year),o.push(parseInt(e.yearly[n].wins));g.data=o;var r,l,s,i=[];i.push(g),l=t,s=i,(r=y).data.labels=l,r.data.datasets=s,r.update();var p=parseInt(e.overall.win)+parseInt(e.overall.loss)+parseInt(e.overall.tie),d=100*parseInt(e.overall.win)/p;console.log(Math.round(d)),v.refresh(d);var f=parseInt(e.playoff.win)+parseInt(e.playoff.loss)+parseInt(e.playoff.tie),u=100*parseInt(e.playoff.win)/f;h.refresh(u)};c("#teamSelector").change(function(e){var a=function(e){for(var a=0,t=o.length;a<t;a++)if(o[a].name===e)return o[a];return null}(e.target.value);t(a)}),c(document).ready(function(){console.log("ready!"),console.log("fetching!"),c.getJSON("data/data.json",function(e){o=e.teams,c.each(o,function(e,a){c("#teamSelector").append(c("<option>",{value:a.name,text:a.name}))}),t(o[0])}).fail(function(e,a,t){console.log("error",a,t)})})}(jQuery);