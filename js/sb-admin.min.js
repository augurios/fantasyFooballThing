/*!
 * Start Bootstrap - SB Admin v5.0.1 (https://startbootstrap.com/template-overviews/sb-admin)
 * Copyright 2013-2018 Start Bootstrap
 * Licensed under MIT (https://github.com/BlackrockDigital/startbootstrap-sb-admin/blob/master/LICENSE)
 */

!function(u){"use strict";u("#sidebarToggle").click(function(e){e.preventDefault(),u("body").toggleClass("sidebar-toggled"),u(".sidebar").toggleClass("toggled")}),u("body.fixed-nav .sidebar").on("mousewheel DOMMouseScroll wheel",function(e){if(768<$window.width()){var t=e.originalEvent,a=t.wheelDelta||-t.detail;this.scrollTop+=30*(a<0?1:-1),e.preventDefault()}}),u(document).scroll(function(){100<u(this).scrollTop()?u(".scroll-to-top").fadeIn():u(".scroll-to-top").fadeOut()}),u(document).on("click","a.scroll-to-top",function(e){var t=u(this);u("html, body").stop().animate({scrollTop:u(t.attr("href")).offset().top},1e3,"easeInOutExpo"),e.preventDefault()});var g={label:"Wins",lineTension:.3,backgroundColor:"rgba(2,117,216,0.2)",borderColor:"rgba(2,117,216,1)",pointRadius:5,pointBackgroundColor:"rgba(2,117,216,1)",pointBorderColor:"rgba(255,255,255,0.8)",pointHoverRadius:5,pointHoverBackgroundColor:"rgba(2,117,216,1)",pointHitRadius:50,pointBorderWidth:1,data:[12,8,10,12,10,13,13,13,9]},e=document.getElementById("myAreaChart"),h=new Chart(e,{type:"line",data:{labels:["2009","2010","2011","2012","2013","2014","2015","2016","2017"],datasets:[g]},options:{scales:{xAxes:[{time:{unit:"date"},gridLines:{display:!1},ticks:{}}],yAxes:[{gridLines:{color:"rgba(0, 0, 0, .125)"},ticks:{min:0,max:17,stepSize:1}}]},legend:{display:!1}}}),t={min:0,max:100,donut:!0,gaugeWidthScale:.6,counter:!0,hideInnerShadow:!0},v=new JustGage({id:"gg2",title:"Win Rate",label:"percent",defaults:t}),y=new JustGage({id:"playoffsC",title:"Win Rate",label:"percent",defaults:t}),o=[],a=function(e){var t;console.log("data to load",e),u("#founded").text(e.founded),u("#stadium").text(e.stadium),u("#teamlogo").attr("src",e.logo),u("#over-wins").text(e.overall.win),u("#over-loss").text(e.overall.loss),u("#over-tie").text(e.overall.tie),u("#offePts").text(e.overall.offensePts),u("#defPts").text(e.overall.defPts),u("#OverregSeasonChamp").text(e.overall.regSeasonChamp),u("#playOWin").text(e.playoff.win),u("#playOLoss").text(e.playoff.loss),u("#playOTie").text(e.playoff.tie),u("#championships").text(e.playoff.championships),u("#regSeasonChamp").text(e.playoff.regSeasonChamp),u("#appearances").text(e.playoff.appearances),(t=h).data.labels=[],t.data.datasets=[],t.update();for(var a=[],o=[],l=0;l<e.yearly.length;l++)a.push(e.yearly[l].year),o.push(parseInt(e.yearly[l].wins));g.data=o;var n,r,s,i=[];i.push(g),r=a,s=i,(n=h).data.labels=r,n.data.datasets=s,n.update();var d=parseInt(e.overall.win)+parseInt(e.overall.loss)+parseInt(e.overall.tie),p=100*parseInt(e.overall.win)/d;console.log(Math.round(p)),v.refresh(p);var f=parseInt(e.playoff.win)+parseInt(e.playoff.loss)+parseInt(e.playoff.tie),c=100*parseInt(e.playoff.win)/f;y.refresh(c)};u("#teamSelector").change(function(e){var t=function(e){for(var t=0,a=o.length;t<a;t++)if(o[t].name===e)return o[t];return null}(e.target.value);a(t)}),u(document).ready(function(){console.log("ready!"),console.log("fetching!"),u.getJSON("data/data.json",function(e){o=e.teams,u.each(o,function(e,t){u("#teamSelector").append(u("<option>",{value:t.name,text:t.name}))}),a(o[0])}).fail(function(e,t,a){console.log("error",t,a)})})}(jQuery);